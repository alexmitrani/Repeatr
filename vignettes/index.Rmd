---
title: "92 SONGS"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{92 SONGS}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
params: 
  output_dir: "../docs"
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  fig.width=7,
  fig.height=5,
  comment = "#>"
)
output_dir <- params$output_dir
```

```{r, include = FALSE}
library(Repeatr)
```

## A visualisation of Fugazi history

This page offers a visualisation of the songs that Fugazi performed live using metadata from the [Fugazi Live Series](https://www.dischord.com/fugazi_live_series).  

The raw data was processed previously and the results were stored in the the summary table of the  [Repeatr](https://github.com/alexmitrani/Repeatr) package. Here the summary data will be used without going into details of the data processing.  

Let's get the data, limit it to the columns that we will be using, and have a look at the first few rows. 

```{r }

mygraphdata <- summary %>%
  select(song, launchdate, chosen, release, rating)

head(mygraphdata)

``` 
A few of the columns need explanation.  

- launchdate: the data the song was first performed.  

- chosen: the number of times the song was played live. 

- rating: this is an indicator of the strength of preference for the song according to the Fugazi Live Series data, where 1 is the most preferred and 0 is the least preferred. It was calculated by modelling the choices of which songs were performed and which weren't. The data used for this analysis included 17297 choices of songs from 895 shows.  

These are all limited to the data that was available for this analysis. For instance, the launch date of a particular song may not actually be the very first time the song was performed live, but it should be close. 

Now let's graph the data. The idea is to plot each song as a bubble, with the x-coordinate given by the launch date, and the y-coordinate given by the rating calculated from the choice modelling of the Fugazi Live Series data. The size of the bubble will be proportional to the number of times the song was played live, while the color of the bubble will indicate the associated release in the band's discography.  There will be a lot of information packed into this graph!    

```{r }

p <- mygraphdata %>%
  ggplot( aes(x=launchdate, y=rating, size = chosen, color=release, label=song)) +
  geom_point(shape = 1) +
  theme_bw()

ggplotly(p)


```   

The graph is interactive: 

- hover over a song to see specific details about the song

- tap on a release in the legend to hide the corresponding
bubbles, tap on the release again to reveal them once more.  This is useful to focus on one or more specific releases by hiding the others.   


Enjoy!


